# 天然氣公司管理系統

這是一個完整的天然氣公司管理系統，基於 ASP.NET Core 8 開發，提供客戶管理、計費系統、管線監控等核心功能。

## 系統功能

### 1. 客戶關係管理 (CRM)
- ✅ 客戶資料管理（住宅、商業、工業客戶）
- ✅ 客戶新增、修改、刪除
- ✅ 客戶搜尋和篩選
- ✅ 客戶狀態管理
- ✅ 表單驗證和數據校驗

### 2. 計費管理系統
- ✅ 帳單生成和管理
- ✅ 用氣量計算
- ✅ 費率管理（基本費 + 使用費 + 稅額）
- ✅ 付款處理
- ✅ 未付款和逾期帳單追蹤
- ✅ 客戶帳單歷史查詢

### 3. 管線監控系統 (SCADA)
- ✅ 即時管線監控
- ✅ 壓力、流量、溫度、濕度監測
- ✅ 自動警報系統
- ✅ 警報確認和處理
- ✅ 歷史數據查詢
- ✅ 視覺化圖表顯示

### 4. 系統儀表板
- ✅ 統計概覽卡片
- ✅ 收入趨勢圖表
- ✅ 客戶類型分布圖
- ✅ 最近活動追蹤
- ✅ 快速操作捷徑
- ✅ 即時數據更新

### 5. 數據模型
- ✅ Customer (客戶)
- ✅ GasMeter (瓦斯錶)
- ✅ MeterReading (抄錶記錄)
- ✅ Bill (帳單)
- ✅ Payment (付款)
- ✅ Pipeline (管線)
- ✅ PipelineMonitoring (管線監控數據)
- ✅ PipelineAlert (管線警報)
- ✅ ServiceRequest (服務請求)

## 技術架構

### 後端技術
- **框架**: ASP.NET Core 8 MVC
- **驗證**: FluentValidation
- **數據存取**: 記憶體模擬 (可擴展到 Entity Framework)
- **服務層**: 依賴注入模式
- **架構模式**: Repository + Service Layer

### 前端技術
- **框架**: Bootstrap 5
- **圖標**: Font Awesome 6
- **圖表**: Chart.js
- **互動**: JavaScript/jQuery
- **響應式設計**: Mobile-First

### 專案結構
```
AspNetCore8Test/
├── Controllers/
│   ├── CustomerController.cs     # 客戶管理控制器
│   ├── BillingController.cs      # 計費管理控制器
│   ├── PipelineController.cs     # 管線監控控制器
│   └── DashboardController.cs    # 儀表板控制器
├── Models/
│   ├── GasModels/               # 天然氣業務模型
│   │   ├── Customer.cs
│   │   ├── Bill.cs
│   │   ├── Pipeline.cs
│   │   └── ...
│   └── DTOs/
│       └── GasDTOs/             # 數據傳輸對象
├── Services/
│   └── GasServices/             # 業務服務層
│       ├── CustomerService.cs
│       ├── BillingService.cs
│       └── PipelineService.cs
├── Validators/
│   └── GasValidators/           # 表單驗證器
└── Views/
    ├── Customer/                # 客戶管理視圖
    ├── Billing/                 # 計費管理視圖
    ├── Pipeline/                # 管線監控視圖
    └── Dashboard/               # 儀表板視圖
```

## 主要頁面

### 1. 系統儀表板 (`/Dashboard`)
- 統計卡片：客戶總數、總收入、未付款、警報數量
- 收入趨勢圖表
- 客戶類型分布圖
- 最近註冊客戶
- 最近警報
- 快速操作按鈕

### 2. 客戶管理 (`/Customer`)
- **列表頁面**: 客戶搜尋、篩選、狀態管理
- **新增頁面**: 客戶資料輸入、驗證
- **編輯頁面**: 客戶資料修改
- **詳細頁面**: 客戶完整資訊、快速操作
- **刪除功能**: 安全刪除確認

### 3. 計費管理 (`/Billing`)
- **帳單列表**: 全部/未付款/逾期帳單篩選
- **統計卡片**: 金額統計、帳單狀態分布
- **付款處理**: 單筆或部分付款
- **帳單詳情**: 完整帳單資訊
- **客戶帳單**: 特定客戶的帳單歷史

### 4. 管線監控 (`/Pipeline`)
- **即時監控**: 所有管線當前狀態
- **歷史數據**: 指定時間範圍查詢
- **警報管理**: 警報確認和處理
- **視覺化圖表**: 壓力流量趨勢圖
- **管線詳情**: 管線規格和監控歷史

## 系統特色

### 🎯 業務導向設計
- 符合天然氣公司實際業務流程
- 支援多種客戶類型（住宅、商業、工業）
- 完整的計費和收款流程
- 即時管線安全監控

### 📊 數據可視化
- Chart.js 圖表整合
- 即時數據更新
- 響應式圖表設計
- 多維度數據展示

### 🔒 安全性考量
- 表單防偽驗證
- 數據驗證和清理
- 角色權限控制準備
- 錯誤處理機制

### 📱 響應式設計
- Bootstrap 5 框架
- Mobile-First 設計
- 跨設備兼容
- 現代化 UI/UX

### ⚡ 效能優化
- 異步處理
- 模塊化載入
- 快取策略準備
- 代碼分離

## 安裝和運行

### 環境需求
- .NET 8 SDK
- Visual Studio 2022 或 VS Code
- 現代化瀏覽器

### 運行步驟
1. 克隆專案
```bash
git clone [repository-url]
cd AspNetCore8Test02
```

2. 還原 NuGet 套件
```bash
dotnet restore
```

3. 編譯專案
```bash
dotnet build
```

4. 運行應用程式
```bash
dotnet run
```

5. 開啟瀏覽器訪問
```
https://localhost:5001/Dashboard
```

## 系統截圖和功能演示

### 儀表板
- 統計概覽：客戶、收入、警報等關鍵指標
- 圖表展示：收入趨勢、客戶分布
- 快速操作：一鍵進入各功能模組

### 客戶管理
- 完整的 CRUD 操作
- 智能搜尋和篩選
- 表單驗證和錯誤提示
- 客戶狀態管理

### 計費系統
- 自動計費和稅額計算
- 多種付款方式支援
- 逾期提醒和追蹤
- 詳細的帳單記錄

### 管線監控
- 即時數據展示
- 自動警報生成
- 歷史趨勢分析
- 圖表化監控面板

## 未來擴展

### 🛠️ 技術改進
- [ ] Entity Framework 數據庫整合
- [ ] Identity 用戶認證系統
- [ ] SignalR 即時通訊
- [ ] Redis 快取系統
- [ ] Docker 容器化部署

### 📈 功能增強
- [ ] 報表系統
- [ ] 工單管理
- [ ] 庫存管理
- [ ] 地理資訊系統 (GIS)
- [ ] 移動端 APP
- [ ] API 接口
- [ ] 數據分析和機器學習

### 🔧 維護工具
- [ ] 系統日誌
- [ ] 效能監控
- [ ] 備份還原
- [ ] 數據遷移工具

## 授權

本專案僅用於學習和展示目的。

## 聯絡資訊

如有問題或建議，請透過以下方式聯絡：
- Email: [your-email]
- GitHub: [your-github]

---

*本系統展示了現代 Web 應用程式開發的最佳實踐，包括 MVC 架構、服務層設計、表單驗證、響應式 UI 等技術要點。*